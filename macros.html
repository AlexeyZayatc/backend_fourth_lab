{% macro render_table(table_name, relation) %}
<p>
    <b>{{table_name}} </b>

    <!-- количество строк в таблице -->
<table>
    <!-- формируем заголовок таблицы (имена столбцов) -->
    <tr>
        {% for name in relation.dtypes.index %}
        <th>{{name}}</th>
        {% endfor %}
    </tr>

    <tbody>
        <!-- для всех строк таблицы -->
        {% for i in range(relation.__len__()) %}
        <tr>
            <!-- выводим значение каждого столбца -->
            {% for name in relation.dtypes.index %}
            <td> {{ relation.loc[i, name] }} </td>
            {% endfor %}
        </tr>
        {% endfor %}
    </tbody>
</table>
</p>
{% endmacro %}